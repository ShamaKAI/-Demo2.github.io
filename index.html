<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>欢迎加入凡间角落</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .card-hover {
                @apply transition-all duration-300 hover:shadow-lg hover:-translate-y-1;
            }
            .btn-primary {
                @apply bg-pink-500 hover:bg-pink-600 text-white font-bold py-2 px-4 rounded-full transition-all duration-300;
            }
            .qr-container {
                @apply border-2 border-dashed border-pink-500 rounded-lg p-4 bg-white;
            }
            .timer-pulse {
                animation: pulse 2s infinite;
            }
            @keyframes pulse {
                0% { opacity: 1; }
                50% { opacity: 0.7; }
                100% { opacity: 1; }
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-amber-50 to-pink-50 min-h-screen font-sans">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <header class="text-center mb-12">
            <h1 class="text-[clamp(2rem,5vw,3rem)] font-bold text-pink-600 mb-4">欢迎加入凡间角落</h1>
            <p class="text-gray-600 text-lg">在这里，你将获得无尽的陪伴与快乐</p>
        </header>
        
        <h2 class="text-center text-xl font-bold text-gray-800 mb-8">请选择你想要加入的搭子圈</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- 健身搭子 -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden card-hover" onclick="openPayment('健身', '9.9')">
                <div class="bg-gradient-to-r from-pink-400 to-purple-500 p-4">
                    <h3 class="text-white font-bold text-xl flex items-center">
                        <i class="fa fa-dumbbell mr-3"></i>健身搭子
                    </h3>
                </div>
                <div class="p-4">
                    <p class="text-gray-700 mb-3">一起挥洒汗水，互相鼓励，打造健康体魄</p>
                    <span class="text-purple-600 font-bold">¥9.9</span>
                </div>
            </div>
            
            <!-- 宠物搭子 -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden card-hover" onclick="openPayment('宠物', '19.9')">
                <div class="bg-gradient-to-r from-blue-400 to-teal-500 p-4">
                    <h3 class="text-white font-bold text-xl flex items-center">
                        <i class="fa fa-paw mr-3"></i>宠物搭子
                    </h3>
                </div>
                <div class="p-4">
                    <p class="text-gray-700 mb-3">分享养宠心得，组织宠物聚会，结识爱宠伙伴</p>
                    <span class="text-teal-600 font-bold">¥19.9</span>
                </div>
            </div>
            
            <!-- 游泳搭子 -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden card-hover" onclick="openPayment('游泳', '39.9')">
                <div class="bg-gradient-to-r from-indigo-400 to-blue-500 p-4">
                    <h3 class="text-white font-bold text-xl flex items-center">
                        <i class="fa fa-swimming-pool mr-3"></i>游泳搭子
                    </h3>
                </div>
                <div class="p-4">
                    <p class="text-gray-700 mb-3">相约泳池，切磋泳技，享受水中乐趣</p>
                    <span class="text-blue-600 font-bold">¥39.9</span>
                </div>
            </div>
            
            <!-- 掼蛋搭子 -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden card-hover" onclick="openPayment('掼蛋', '19.9')">
                <div class="bg-gradient-to-r from-amber-400 to-orange-500 p-4">
                    <h3 class="text-white font-bold text-xl flex items-center">
                        <i class="fa fa-playing-cards mr-3"></i>掼蛋搭子
                    </h3>
                </div>
                <div class="p-4">
                    <p class="text-gray-700 mb-3">每日固定局，切磋牌技，以牌会友</p>
                    <span class="text-orange-600 font-bold">¥19.9</span>
                </div>
            </div>
            
            <!-- 台球搭子 -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden card-hover" onclick="openPayment('台球', '29.9')">
                <div class="bg-gradient-to-r from-emerald-400 to-green-500 p-4">
                    <h3 class="text-white font-bold text-xl flex items-center">
                        <i class="fa fa-billiard-ball mr-3"></i>台球搭子
                    </h3>
                </div>
                <div class="p-4">
                    <p class="text-gray-700 mb-3">相约球房，练习技术，举办小型比赛</p>
                    <span class="text-green-600 font-bold">¥29.9</span>
                </div>
            </div>
            
            <!-- 微醺搭子 -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden card-hover" onclick="openPayment('微醺', '39.9')">
                <div class="bg-gradient-to-r from-rose-400 to-pink-500 p-4">
                    <h3 class="text-white font-bold text-xl flex items-center">
                        <i class="fa fa-glass-martini mr-3"></i>微醺搭子
                    </h3>
                </div>
                <div class="p-4">
                    <p class="text-gray-700 mb-3">小酌怡情，分享酒单，探索城市深夜酒馆</p>
                    <span class="text-pink-600 font-bold">¥39.9</span>
                </div>
            </div>
            
            <!-- 旅行搭子 -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden card-hover" onclick="openPayment('旅行', '49.9')">
                <div class="bg-gradient-to-r from-teal-400 to-cyan-500 p-4">
                    <h3 class="text-white font-bold text-xl flex items-center">
                        <i class="fa fa-suitcase-rolling mr-3"></i>旅行搭子
                    </h3>
                </div>
                <div class="p-4">
                    <p class="text-gray-700 mb-3">计划短途/长途旅行，结伴而行，分摊费用</p>
                    <span class="text-cyan-600 font-bold">¥49.9</span>
                </div>
            </div>
            
            <!-- 爬山搭子 -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden card-hover" onclick="openPayment('爬山', '19.9')">
                <div class="bg-gradient-to-r from-stone-400 to-amber-500 p-4">
                    <h3 class="text-white font-bold text-xl flex items-center">
                        <i class="fa fa-mountain mr-3"></i>爬山搭子
                    </h3>
                </div>
                <div class="p-4">
                    <p class="text-gray-700 mb-3">周末登山，锻炼身体，欣赏自然风光</p>
                    <span class="text-amber-600 font-bold">¥19.9</span>
                </div>
            </div>
            
            <!-- 美食搭子 -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden card-hover" onclick="openPayment('美食', '29.9')">
                <div class="bg-gradient-to-r from-red-400 to-amber-500 p-4">
                    <h3 class="text-white font-bold text-xl flex items-center">
                        <i class="fa fa-utensils mr-3"></i>美食搭子
                    </h3>
                </div>
                <div class="p-4">
                    <p class="text-gray-700 mb-3">探店打卡，分享美食，杜绝一个人吃饭</p>
                    <span class="text-red-600 font-bold">¥29.9</span>
                </div>
            </div>
            
            <!-- 骑行搭子 -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden card-hover" onclick="openPayment('骑行', '29.9')">
                <div class="bg-gradient-to-r from-lime-400 to-emerald-500 p-4">
                    <h3 class="text-white font-bold text-xl flex items-center">
                        <i class="fa fa-bicycle mr-3"></i>骑行搭子
                    </h3>
                </div>
                <div class="p-4">
                    <p class="text-gray-700 mb-3">城市骑行/长途骑行，探索周边风景</p>
                    <span class="text-emerald-600 font-bold">¥29.9</span>
                </div>
            </div>
            
            <!-- 跳舞搭子 -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden card-hover" onclick="openPayment('跳舞', '39.9')">
                <div class="bg-gradient-to-r from-violet-400 to-purple-500 p-4">
                    <h3 class="text-white font-bold text-xl flex items-center">
                        <i class="fa fa-music mr-3"></i>跳舞搭子
                    </h3>
                </div>
                <div class="p-4">
                    <p class="text-gray-700 mb-3">零基础入门，定期约舞，提升舞蹈技巧</p>
                    <span class="text-purple-600 font-bold">¥39.9</span>
                </div>
            </div>
            
            <!-- 新增：攀岩搭子 -->
            <div class="bg-white rounded-xl shadow-md overflow-hidden card-hover" onclick="openPayment('攀岩', '39.9')">
                <div class="bg-gradient-to-r from-amber-500 to-red-500 p-4">
                    <h3 class="text-white font-bold text-xl flex items-center">
                        <i class="fa fa-hand-rock-o mr-3"></i>攀岩搭子
                    </h3>
                </div>
                <div class="p-4">
                    <p class="text-gray-700 mb-3">挑战自我，突破极限，体验岩壁上的乐趣</p>
                    <span class="text-red-600 font-bold">¥39.9</span>
                </div>
            </div>
        </div>
        
        <footer class="mt-16 text-center text-gray-500 text-sm">
            <p>凡间角落 © 2025 - 找到属于你的陪伴</p>
        </footer>
    </div>
    
    <!-- 支付模态框 -->
    <div id="paymentModal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl">
            <div class="flex justify-between items-center mb-4">
                <h2 id="paymentTitle" class="text-xl font-bold text-gray-800"></h2>
                <button onclick="closeModal()" class="text-gray-400 hover:text-gray-600">
                    <i class="fa fa-times text-xl"></i>
                </button>
            </div>
            
            <div class="text-center mb-6">
                <p class="text-gray-600 mb-4">请扫描下方二维码完成支付</p>
                <div class="qr-container mx-auto w-64 h-64 flex items-center justify-center mb-4">
                    <img id="paymentQrCode" src="" alt="支付二维码" class="max-w-full max-h-full">
                </div>
                <p class="text-gray-800 font-bold">支付金额: <span id="paymentAmount"></span></p>
            </div>
            
            <div class="bg-gray-50 rounded-lg p-4 mb-6">
                <div class="flex items-center justify-center mb-3">
                    <i class="fa fa-clock-o text-blue-500 mr-2"></i>
                    <span id="paymentTimer" class="text-gray-700">请等待 2:00 后确认支付</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2">
                    <div id="paymentProgress" class="bg-blue-500 h-2 rounded-full w-0 transition-all duration-300"></div>
                </div>
            </div>
            
            <div class="text-center">
                <button id="checkPaymentBtn" class="btn-primary w-full opacity-0 pointer-events-none" onclick="showGroupQrCode()">
                    已完成支付，查看群二维码
                </button>
                <p id="timerHint" class="mt-3 text-gray-500 text-sm">
                    <i class="fa fa-info-circle mr-1"></i>
                    为确保支付成功，请耐心等待倒计时结束后点击查看二维码
                </p>
            </div>
        </div>
    </div>
    
    <!-- 群聊二维码页面 -->
    <div id="groupQrPage" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl">
            <div class="flex justify-between items-center mb-4">
                <h2 id="groupQrTitle" class="text-xl font-bold text-gray-800"></h2>
                <button onclick="closeGroupQrPage()" class="text-gray-400 hover:text-gray-600">
                    <i class="fa fa-times text-xl"></i>
                </button>
            </div>
            
            <div class="text-center mb-6">
                <p class="text-gray-600 mb-4">请扫描下方二维码加入群聊</p>
                <div class="qr-container mx-auto w-72 h-72 flex items-center justify-center mb-4">
                    <img id="groupQrCode" src="" alt="群聊二维码" class="max-w-full max-h-full">
                </div>
            </div>
            
            <div class="bg-blue-50 rounded-lg p-4 mb-6">
                <p class="text-gray-700 text-sm mb-2">
                    <i class="fa fa-info-circle text-blue-500 mr-2"></i>
                    温馨提示：
                </p>
                <ul class="list-disc list-inside text-gray-600 text-sm space-y-1">
                    <li>1. 使用微信扫描上方二维码</li>
                    <li>2. 等待管理员通过申请</li>
                    <li>3. 开启你的搭子之旅！</li>
                </ul>
            </div>
            
            <div class="text-center">
                <button onclick="closeGroupQrPage()" class="btn-primary w-full">
                    完成
                </button>
            </div>
        </div>
    </div>
    
    <script>
        let currentGroupName = null;
        let paymentTimer = null;
        let totalSeconds = 120; // 2分钟
        
        // 打开支付模态框
        function openPayment(group, amount) {
            currentGroupName = group;
            
            document.getElementById('paymentTitle').textContent = `${group}搭子`;
            document.getElementById('paymentAmount').textContent = `¥${amount}`;
            document.getElementById('paymentQrCode').src = `${group}搭子收款码.png`;
            document.getElementById('paymentModal').classList.remove('hidden');
            
            // 重置进度条和计时器
            document.getElementById('paymentProgress').style.width = '0%';
            document.getElementById('paymentTimer').textContent = `请等待 2:00 后确认支付`;
            document.getElementById('checkPaymentBtn').classList.add('opacity-0', 'pointer-events-none');
            document.getElementById('timerHint').classList.remove('hidden');
            
            // 启动计时器
            startPaymentTimer();
        }
        
        // 关闭支付模态框
        function closeModal() {
            document.getElementById('paymentModal').classList.add('hidden');
            stopPaymentTimer();
        }
        
        // 关闭群聊二维码页面
        function closeGroupQrPage() {
            document.getElementById('groupQrPage').classList.add('hidden');
        }
        
        // 启动支付计时器
        function startPaymentTimer() {
            let seconds = totalSeconds;
            const progressStep = 100 / totalSeconds;
            
            // 显示倒计时
            updateTimerDisplay(seconds);
            
            // 每秒更新计时器和进度条
            paymentTimer = setInterval(() => {
                seconds--;
                document.getElementById('paymentProgress').style.width = `${(totalSeconds - seconds) * progressStep}%`;
                updateTimerDisplay(seconds);
                
                if (seconds <= 0) {
                    clearInterval(paymentTimer);
                    enableCheckPaymentButton();
                }
            }, 1000);
        }
        
        // 停止支付计时器
        function stopPaymentTimer() {
            if (paymentTimer) {
                clearInterval(paymentTimer);
                paymentTimer = null;
            }
        }
        
        // 更新计时器显示
        function updateTimerDisplay(seconds) {
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            document.getElementById('paymentTimer').textContent = `请等待 ${minutes}:${secs.toString().padStart(2, '0')} 后确认支付`;
        }
        
        // 启用检查支付按钮
        function enableCheckPaymentButton() {
            const btn = document.getElementById('checkPaymentBtn');
            const hint = document.getElementById('timerHint');
            
            // 显示按钮并添加动画
            btn.classList.remove('opacity-0', 'pointer-events-none');
            hint.classList.add('hidden');
            
            // 添加脉冲动画
            btn.classList.add('timer-pulse');
            setTimeout(() => {
                btn.classList.remove('timer-pulse');
            }, 2000);
        }
        
        // 显示群聊二维码
        function showGroupQrCode() {
            document.getElementById('paymentModal').classList.add('hidden');
            
            document.getElementById('groupQrTitle').textContent = `${currentGroupName}搭子群`;
            document.getElementById('groupQrCode').src = `${currentGroupName}搭子群二维码.png`;
            document.getElementById('groupQrPage').classList.remove('hidden');
        }
    </script>
</body>
</html>
